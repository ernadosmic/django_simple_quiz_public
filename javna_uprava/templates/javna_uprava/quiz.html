{% extends 'javna_uprava/base.html' %}
{% load static %}
{% block content %}
<div id="content">
    <div id="quiz_content">
        <div id="question_box"></div>
        <div id="results_box">
            <div id="results_box_header">
                <h4>Netaƒçni odgovori:</h4>
                <hr style="margin-bottom: 0px">
            </div>
            <div id="results_box_content"></div>
    
        </div>
    </div>
</div>

<script type="text/javascript">
    const jsQuestionList = new Map();
    function createQuestionMap() {
        {% for x in question_list %}
            jsQuestionList.set({{ x.question_num|escapejs }}, {question: "{{ x.question_text|escapejs }}", choices: {}});
            {/* jsQuestionList["{{x.question_num}}"] = {"question": "{{ x.question_text }}", "choices": {}} */}
            {% for y in x.choice_set.all%}
                {% if y.correct_choice %}
                    jsQuestionList.get({{ x.question_num|escapejs }}).choices["{{ forloop.counter }}"] = {"{{ y.choice_text|escapejs }}": true}
                {% else %}
                    jsQuestionList.get({{ x.question_num|escapejs }}).choices["{{ forloop.counter }}"] = {"{{ y.choice_text|escapejs }}": false}
                {% endif %}
            {% endfor %}
        {% endfor %}
    }

    document.addEventListener('DOMContentLoaded', function() {
        createQuestionMap()
     }, false);
</script>

<script type="text/javascript" src="{% static "javna_uprava/js/quiz.js" %}"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        nextQ.next();
     }, false);
</script>


{% endblock content %}